<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Home PC Control</title>
  <!-- Include the Bootstrap CSS file -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>Home PC Control</h1>
    <p>PC State: <span id='pc-state'>Loading...</span></p>
    <form method='get' action='/toggle'>
      <input type='submit' value='Toggle'>
    </form>
    <div class="custom-control custom-switch">
      <input type="checkbox" class="custom-control-input" id="pc-switch">
      <label class="custom-control-label" for="pc-switch">Toggle</label>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <script>
    var socket = new WebSocket('ws://' + window.location.hostname + ':81');
    // Add an event listener to the switch element
    $('#pc-switch').on('change', function() {
      // Send a message to the server to toggle the PC state
      socket.send('toggle');
    });
    socket.onmessage = function(event) {
      document.getElementById('pc-state').innerHTML = event.data;
    };
  </script>
</body>
</html>
